{"ast":null,"code":"import _classCallCheck from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/fernando/tfg/portal/reactfront/src/components/entries.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Header from './generics/header';\nimport 'rc-slider/assets/index.css';\nimport 'rc-tooltip/assets/bootstrap.css';\nimport Slider from 'rc-slider';\nimport { AuthorList, OrderBySelector } from './search';\nvar createSliderWithTooltip = Slider.createSliderWithTooltip;\nvar Range = createSliderWithTooltip(Slider.Range);\n\nvar EntryDetail = function EntryDetail(_ref) {\n  var entry = _ref.entry,\n      base_url = _ref.base_url,\n      onClick = _ref.onClick,\n      onRemoveClick = _ref.onRemoveClick;\n  return React.createElement(\"div\", {\n    className: \"entryDetail ed_profile\",\n    key: entry.id,\n    \"data-id\": entry.id,\n    onClick: onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"entryEdit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"e_edit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-edit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"e_delete\",\n    onClick: function onClick() {\n      return onRemoveClick(entry.id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-trash-alt\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"entryMeta\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"em_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"T\\xEDtulo: \", entry.title), React.createElement(\"div\", {\n    className: \"em_author\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"Author: \", entry.author), React.createElement(\"div\", {\n    className: \"em_year\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"A\\xF1o: \", entry.year)), React.createElement(\"div\", {\n    className: \"entryImages ei_profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, entry.entry_images.map(function (img) {\n    return React.createElement(\"div\", {\n      key: entry.id + \"-\" + img.id,\n      className: \"entryImageDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      className: \"eid_image\",\n      id: img.id,\n      src: base_url + img.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }));\n  })));\n};\n\nvar EntriesList = function EntriesList(_ref2) {\n  var entries = _ref2.entries,\n      base_url = _ref2.base_url,\n      onClick = _ref2.onClick,\n      onRemoveClick = _ref2.onRemoveClick;\n  return React.createElement(\"div\", {\n    className: \"table_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, entries.length > 0 ? entries.map(function (entry) {\n    return React.createElement(EntryDetail, {\n      key: entry.id,\n      entry: entry,\n      base_url: base_url,\n      onClick: onClick,\n      onRemoveClick: onRemoveClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    });\n  }) : React.createElement(\"div\", {\n    key: \"no_results\",\n    className: \"no_results\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \" No se han encontrado resultados \"));\n};\n\nvar Button = function Button(_ref3) {\n  var name = _ref3.name,\n      disabled = _ref3.disabled,\n      onClick = _ref3.onClick;\n  return React.createElement(\"button\", {\n    className: disabled ? name + \" disabled_pagination\" : name,\n    disabled: disabled,\n    onClick: onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  });\n};\n\nvar DeleteModal = function DeleteModal(_ref4) {\n  var title = _ref4.title,\n      _onClick = _ref4.onClick,\n      selectedId = _ref4.selectedId,\n      onCancelClick = _ref4.onCancelClick;\n  return React.createElement(\"div\", {\n    className: \"delete_modal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dm_message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"\\xBFEst\\xE1s seguro de querer borrar el registro \", title, \"?\"), React.createElement(\"div\", {\n    className: \"dm_btn_wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    id: \"dm_btn_delete\",\n    onClick: function onClick() {\n      return _onClick(selectedId);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Borrar\"), React.createElement(\"button\", {\n    onClick: onCancelClick,\n    type: \"button\",\n    className: \"btn btn-secondary\",\n    \"data-dismiss\": \"modal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Cancelar\")));\n}; // Due to setState delay issues, variable managed on a higher level\n\n\nvar page = 0;\n\nvar Entries =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Entries, _Component);\n\n  function Entries(_props) {\n    var _this;\n\n    _classCallCheck(this, Entries);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Entries).call(this, _props));\n\n    _this.handle = function (props) {\n      _this.setState({\n        filter_from_year: props[0],\n        filter_to_year: props[1]\n      });\n    };\n\n    _this.handleInputChange = function (e) {\n      _this.setState({\n        query_text: e.target.value\n      });\n    };\n\n    _this.onAuthorSelect = function (e) {\n      _this.setState({\n        filter_author: e.target.value\n      });\n    };\n\n    _this.onAuthorOrder = function (e) {\n      _this.setState({\n        order_by_author: e.target.value\n      });\n    };\n\n    _this.onTitleOrder = function (e) {\n      _this.setState({\n        order_by_title: e.target.value\n      });\n    };\n\n    _this.onYearOrder = function (e) {\n      _this.setState({\n        order_by_year: e.target.value\n      });\n    };\n\n    _this.onCreatedOrder = function (e) {\n      _this.setState({\n        order_by_created: e.target.value\n      });\n    };\n\n    _this.onEntryClick = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      var entry = _this.state.data.entries.find(function (entry) {\n        return entry.id === parseInt(e.currentTarget.getAttribute(\"data-id\"));\n      });\n\n      _this.setState({\n        modal_title: entry.title,\n        modal_year: entry.year,\n        modal_author: entry.author,\n        modal_images: entry.entry_images,\n        modal_display: ''\n      });\n    };\n\n    _this.state = {\n      data: {},\n      query_text: '',\n      filter_author: '',\n      filter_from_year: '',\n      filter_to_year: '',\n      order_by_year: '',\n      order_by_author: '',\n      order_by_title: '',\n      order_by_created: '',\n      isLoggedIn: true,\n      author: '',\n      min_year: '',\n      max_year: '',\n      page_size: 5,\n      base_url: _props.base_url,\n      total_elements: 0,\n      waiting_to_change: false,\n      modal_display: 'none',\n      modal_title: '',\n      modal_year: '',\n      modal_author: '',\n      modal_images: [],\n      display_entry_search: '',\n      display_delete_modal: 'none',\n      selected_entry_id: ''\n    };\n    _this.headers = [{\n      label: \"Titulo\",\n      id: \"title\",\n      numeric: false,\n      disablePadding: true\n    }, {\n      label: \"Autor\",\n      id: \"author\",\n      numeric: false,\n      disablePadding: true\n    }, {\n      label: \"Año\",\n      id: \"year\",\n      numeric: true,\n      disablePadding: true\n    }, {\n      label: \"Imagenes\",\n      id: \"entry_images\",\n      numeric: false,\n      disablePadding: true\n    }];\n    _this.handle = _this.handle.bind();\n    _this.onAuthorSelect = _this.onAuthorSelect.bind(_assertThisInitialized(_this));\n    _this.onAuthorOrder = _this.onAuthorOrder.bind(_assertThisInitialized(_this));\n    _this.onTitleOrder = _this.onTitleOrder.bind(_assertThisInitialized(_this));\n    _this.onYearOrder = _this.onYearOrder.bind(_assertThisInitialized(_this));\n    _this.fetchData = _this.fetchData.bind(_assertThisInitialized(_this));\n    _this.onPreviousPage = _this.onPreviousPage.bind(_assertThisInitialized(_this));\n    _this.onNextPage = _this.onNextPage.bind(_assertThisInitialized(_this));\n    _this.onEntryClick = _this.onEntryClick.bind(_assertThisInitialized(_this));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_this));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    _this.removeEntry = _this.removeEntry.bind(_assertThisInitialized(_this));\n    _this.confirmRemoveEntry = _this.confirmRemoveEntry.bind(_assertThisInitialized(_this));\n    _this.getTitle = _this.getTitle.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Entries, [{\n    key: \"fetchData\",\n    value: function fetchData() {\n      var _this2 = this;\n\n      this.setState({\n        total_elements: '',\n        waiting_to_change: true\n      });\n      axios.get(this.state.base_url + '/entry/', {\n        params: {\n          page_size: this.state.page_size,\n          page: page,\n          q: this.state.query_text,\n          order_year: this.state.order_by_year,\n          order_author: this.state.order_by_author,\n          order_title: this.state.order_by_title,\n          from_year: this.state.filter_from_year,\n          to_year: this.state.filter_to_year,\n          author: this.state.filter_author\n        }\n      }).then(function (res) {\n        _this2.setState({\n          data: res.data,\n          total_elements: res.data.total,\n          waiting_to_change: false\n        });\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this3 = this;\n\n      axios.get(this.state.base_url + '/entry_meta').then(function (res) {\n        _this3.setState({\n          authors: res.data.authors,\n          min_year: parseInt(res.data.min_year),\n          max_year: parseInt(res.data.max_year),\n          filter_from_year: parseInt(res.data.min_year),\n          filter_to_year: parseInt(res.data.max_year)\n        });\n      });\n      this.fetchData();\n    }\n  }, {\n    key: \"onNextPage\",\n    value: function onNextPage() {\n      page += 1;\n      this.fetchData();\n    }\n  }, {\n    key: \"onPreviousPage\",\n    value: function onPreviousPage() {\n      page -= 1;\n      this.fetchData();\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal() {\n      this.setState({\n        modal_display: 'none',\n        modal_title: '',\n        modal_year: '',\n        modal_author: '',\n        modal_images: [],\n        display_delete_modal: 'none',\n        selected_entry_id: ''\n      });\n    }\n  }, {\n    key: \"removeEntry\",\n    value: function removeEntry(id) {\n      console.log(\"e click\", id);\n      this.setState({\n        modal_display: '',\n        display_delete_modal: '',\n        selected_entry_id: id\n      });\n    }\n  }, {\n    key: \"confirmRemoveEntry\",\n    value: function confirmRemoveEntry(id) {\n      console.log(\"confirmed\", id);\n      axios.delete(this.state.base_url + \"/entry/\".concat(id, \"/\"), {\n        headers: {\n          'Authorization': \"Token \".concat(localStorage.getItem(\"token\"))\n        }\n      }).then(function (res) {\n        console.log(res);\n      });\n    }\n  }, {\n    key: \"getTitle\",\n    value: function getTitle() {\n      var _this4 = this;\n\n      var filtered_entry = this.state.data.entries.filter(function (entry) {\n        return entry.id === _this4.state.selected_entry_id;\n      });\n\n      if (filtered_entry.length <= 0) {\n        console.log(\"No entry found with that id\");\n        return \"\";\n      } else {\n        return filtered_entry[0].title;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // TODO: modificar behaviour so that solo la tabla se quede sin renderizar hasta \n      // encontrar datos de nuevo\n      if (!this.state.min_year || !this.state.max_year || this.state.total_elements === '') {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 313\n          },\n          __self: this\n        });\n      }\n\n      if (this.state.waiting_to_change) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"search_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal_entry\",\n        style: {\n          display: this.state.modal_display\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal_entry_detail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        id: \"btn_close_modal\",\n        \"aria-label\": \"Close\",\n        onClick: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, \"\\xD7\")), React.createElement(DeleteModal, {\n        style: {\n          dismiss: this.state.display_delete_modal\n        },\n        title: this.getTitle(),\n        onClick: this.confirmRemoveEntry,\n        selectedId: this.state.selected_entry_id,\n        onCancelClick: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"navbar-options row search_header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"admin_entries navbar-option selected col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, \"Listado de registros (permite editar y borrar)\"), React.createElement(\"div\", {\n        className: \"add_entry navbar-option col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, \"A\\xF1adir registro\")), React.createElement(\"div\", {\n        className: \"search_wrapper\",\n        style: {\n          display: this.state.display_entry_search\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search_body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search_filters col-xs-4 col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sf_category xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, \"Filtros\"), React.createElement(\"div\", {\n        className: \"search_filter sf_border_bottom xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sf_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, \"Autor\"), React.createElement(\"div\", {\n        className: \"sf_filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, React.createElement(AuthorList, {\n        onChange: this.onAuthorSelect,\n        authors: this.state.authors,\n        value: this.state.filter_author,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"search_filter xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sf_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, \"Filtro por a\\xF1o\"), React.createElement(\"div\", {\n        className: \"sf_filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, React.createElement(Range, {\n        min: this.state.min_year,\n        max: this.state.max_year,\n        defaultValue: [this.state.filter_from_year, this.state.filter_to_year],\n        onChange: this.handle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"sf_value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, this.state.filter_from_year, \" - \", this.state.filter_to_year)), React.createElement(\"div\", {\n        className: \"sf_category xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }, \"Ordenar por...\"), React.createElement(\"div\", {\n        className: \"search_filter sf_border_bottom xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sf_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, \"Autor\"), React.createElement(\"div\", {\n        className: \"sf_filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, React.createElement(OrderBySelector, {\n        onChange: this.onAuthorOrder,\n        name: \"order_by_author\",\n        value: this.state.order_by_author,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"search_filter sf_border_bottom xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sf_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }, \"Fecha creaci\\xF3n registro\"), React.createElement(\"div\", {\n        className: \"sf_filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, React.createElement(OrderBySelector, {\n        onChange: this.onCreatedOrder,\n        name: \"order_by_reated\",\n        value: this.state.order_by_created,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"search_filter sf_border_bottom xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sf_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, \"T\\xEDtulo\"), React.createElement(\"div\", {\n        className: \"sf_filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416\n        },\n        __self: this\n      }, React.createElement(OrderBySelector, {\n        onChange: this.onTitleOrder,\n        name: \"order_by_title\",\n        value: this.state.order_by_title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"search_filter xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sf_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      }, \"A\\xF1o\"), React.createElement(\"div\", {\n        className: \"sf_filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, React.createElement(OrderBySelector, {\n        onChange: this.onYearOrder,\n        name: \"order_by_year\",\n        value: this.state.order_by_year,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"search_filter xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.fetchData,\n        className: \"sf_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, \"Refinar la busqueda!\"))), React.createElement(\"div\", {\n        className: \"search_results_wrapper col-xs-8 col-md-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search_results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sr_searchbar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.handleInputChange,\n        type: \"text\",\n        id: \"searchBarSearch\",\n        className: \"form-control col-xs-9 display_inline_block\",\n        value: this.state.query_text,\n        required: \"\",\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"input-group-btn col-xs-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.fetchData,\n        className: \"btn btn-search\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-search fa-fw display_inline_block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      })))), React.createElement(EntriesList, {\n        entries: this.state.data.entries,\n        base_url: this.state.base_url,\n        onClick: this.onEntryClick,\n        onRemoveClick: this.removeEntry,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      }), this.state.total_elements > 0 ? React.createElement(\"div\", {\n        className: \"pagination_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"total_elements\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462\n        },\n        __self: this\n      }, page * this.state.page_size + 1, \" - \", Math.min(this.state.total_elements, (1 + page) * this.state.page_size), \" de \", this.state.total_elements), React.createElement(Button, {\n        name: \"previous_page_btn\",\n        disabled: page + 1 === 1,\n        onClick: this.onPreviousPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }), React.createElement(Button, {\n        name: \"next_page_btn\",\n        disabled: page + 1 === Math.ceil(this.state.total_elements / this.state.page_size),\n        onClick: this.onNextPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"search_footer xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Entries;\n}(Component);\n\nexport default Entries;","map":{"version":3,"sources":["/home/fernando/tfg/portal/reactfront/src/components/entries.js"],"names":["React","Component","axios","Header","Slider","AuthorList","OrderBySelector","createSliderWithTooltip","Range","EntryDetail","entry","base_url","onClick","onRemoveClick","id","title","author","year","entry_images","map","img","image","EntriesList","entries","length","Button","name","disabled","DeleteModal","selectedId","onCancelClick","page","Entries","props","handle","setState","filter_from_year","filter_to_year","handleInputChange","e","query_text","target","value","onAuthorSelect","filter_author","onAuthorOrder","order_by_author","onTitleOrder","order_by_title","onYearOrder","order_by_year","onCreatedOrder","order_by_created","onEntryClick","stopPropagation","preventDefault","state","data","find","parseInt","currentTarget","getAttribute","modal_title","modal_year","modal_author","modal_images","modal_display","isLoggedIn","min_year","max_year","page_size","total_elements","waiting_to_change","display_entry_search","display_delete_modal","selected_entry_id","headers","label","numeric","disablePadding","bind","fetchData","onPreviousPage","onNextPage","closeModal","removeEntry","confirmRemoveEntry","getTitle","get","params","q","order_year","order_author","order_title","from_year","to_year","then","res","total","authors","console","log","delete","localStorage","getItem","filtered_entry","filter","display","dismiss","Math","min","ceil"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport axios from 'axios';\n\nimport Header from './generics/header'\n\nimport 'rc-slider/assets/index.css';\nimport 'rc-tooltip/assets/bootstrap.css';\n\nimport Slider from 'rc-slider';\n\nimport { AuthorList, OrderBySelector } from './search';\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\n\n\nconst EntryDetail = ({entry, base_url, onClick, onRemoveClick}) => (\n    <div className=\"entryDetail ed_profile\" key={entry.id} data-id={entry.id} onClick={onClick}>\n        <div className=\"entryEdit\">\n            <div className=\"e_edit\"><i className=\"fas fa-edit\"></i></div>\n            <div className=\"e_delete\" onClick={() => onRemoveClick(entry.id)}><i className=\"fas fa-trash-alt\"></i></div>\n        </div>\n        \n        <div className=\"entryMeta\">\n            <div className=\"em_title\">Título: {entry.title}</div>\n            <div className=\"em_author\">Author: {entry.author}</div>\n            <div className=\"em_year\">Año: {entry.year}</div>\n        </div>\n        <div className=\"entryImages ei_profile\">\n            {\n                entry.entry_images.map(img => \n                    <div key={entry.id + \"-\" + img.id} className=\"entryImageDetail\">\n                        <img alt=\"\" className=\"eid_image\" id={img.id} src={base_url + img.image}/>\n                    </div>     \n                )\n            }\n        </div>\n    </div>\n)\n\nconst EntriesList = ({entries, base_url, onClick, onRemoveClick}) => (\n    \n    <div className=\"table_container\">\n        {\n            entries.length>0 ?\n            (\n                entries.map(entry =>\n                    <EntryDetail key={entry.id} entry={entry} base_url={base_url} onClick={onClick} onRemoveClick={onRemoveClick}/>\n                )\n            ) : (\n                <div key=\"no_results\" className=\"no_results\"> No se han encontrado resultados </div>\n            )\n        }\n    </div>\n);\n\nconst Button = ({name, disabled, onClick}) => (\n    \n    <button \n        className={ disabled ? name + \" disabled_pagination\" : name } \n        disabled={disabled} \n        onClick={onClick}\n    />\n);\n\nconst DeleteModal = ({title, onClick, selectedId, onCancelClick}) => (\n    <div className=\"delete_modal\">\n        <div className=\"dm_message\">¿Estás seguro de querer borrar el registro {title}?</div>\n        <div className=\"dm_btn_wrapper\">\n        <button type=\"button\" \n                className=\"btn btn-primary\" \n                id=\"dm_btn_delete\"\n                onClick={() => onClick(selectedId)}>\n                Borrar \n                </button>\n\n        <button onClick={onCancelClick} \n                type=\"button\" \n                className=\"btn btn-secondary\" \n                data-dismiss=\"modal\">\n                Cancelar\n                </button>\n        </div>\n    </div>\n\n\n)\n\n// Due to setState delay issues, variable managed on a higher level\nlet page = 0;\n\nclass Entries extends Component {\n    \n    constructor(props){\n        super(props)\n\n        this.state = {\n            data: {},\n            query_text: '',\n            \n            filter_author: '',\n            filter_from_year: '',\n            filter_to_year: '',\n            \n            order_by_year: '',\n            order_by_author: '',\n            order_by_title: '',\n            order_by_created: '',\n\n            isLoggedIn: true,\n\n            author:   '',\n            min_year: '',\n            max_year: '',\n\n            page_size: 5,\n\n            base_url: props.base_url,\n            total_elements: 0,\n\n            waiting_to_change: false,\n\n            modal_display: 'none',\n            modal_title: '',\n            modal_year: '',\n            modal_author: '',\n            modal_images: [],\n\n            display_entry_search: '',\n            display_delete_modal: 'none',\n            selected_entry_id: '',\n        }\n\n        this.headers = [\n                {label: \"Titulo\", id: \"title\", numeric: false, disablePadding: true},\n                {label: \"Autor\", id: \"author\", numeric: false, disablePadding: true},\n                {label: \"Año\", id: \"year\", numeric: true, disablePadding: true},\n                {label: \"Imagenes\", id: \"entry_images\", numeric: false, disablePadding: true},\n            ];\n\n        this.handle = this.handle.bind()\n        this.onAuthorSelect = this.onAuthorSelect.bind(this)\n        this.onAuthorOrder = this.onAuthorOrder.bind(this)\n        this.onTitleOrder = this.onTitleOrder.bind(this)\n        this.onYearOrder = this.onYearOrder.bind(this)\n\n        this.fetchData = this.fetchData.bind(this)\n        this.onPreviousPage = this.onPreviousPage.bind(this)\n        this.onNextPage = this.onNextPage.bind(this)\n        this.onEntryClick = this.onEntryClick.bind(this)\n        this.closeModal = this.closeModal.bind(this)\n        this.handleInputChange = this.handleInputChange.bind(this)\n\n        this.removeEntry = this.removeEntry.bind(this)\n        this.confirmRemoveEntry = this.confirmRemoveEntry.bind(this)\n        this.getTitle = this.getTitle.bind(this)\n    }\n  \n    fetchData(){\n        this.setState({total_elements:'', waiting_to_change:true})\n\n        axios.get(this.state.base_url + '/entry/', \n        {\n            params: {\n                page_size: this.state.page_size,\n                page: page,\n                q: this.state.query_text,\n                order_year: this.state.order_by_year,\n                order_author: this.state.order_by_author,\n                order_title: this.state.order_by_title,\n                from_year: this.state.filter_from_year,\n                to_year: this.state.filter_to_year,\n                author: this.state.filter_author\n            }\n        })\n        .then(\n            res => {\n                this.setState({\n                    data: res.data,\n                    total_elements: res.data.total,\n                    waiting_to_change: false,\n                })\n            }\n        )\n    }\n\n    componentWillMount(){\n        axios.get(this.state.base_url + '/entry_meta').then(\n            res => {\n                this.setState({\n                    authors:  res.data.authors,\n                    min_year: parseInt(res.data.min_year),\n                    max_year: parseInt(res.data.max_year),\n                    filter_from_year: parseInt(res.data.min_year),\n                    filter_to_year: parseInt(res.data.max_year),\n                })\n            }\n        )\n\n        this.fetchData();\n    }\n\n    handle = (props) => {\n        this.setState({\n            filter_from_year: props[0],\n            filter_to_year: props[1],\n        })            \n    };\n\n    handleInputChange = (e) => {\n        this.setState({query_text: e.target.value});\n    }\n\n    onAuthorSelect = (e) => {\n        this.setState({filter_author: e.target.value});\n    } \n\n    onAuthorOrder = (e) => {\n        this.setState({order_by_author: e.target.value})\n    }\n\n    onTitleOrder = (e) => {\n        this.setState({order_by_title: e.target.value})\n    }\n\n    onYearOrder = (e) => {\n        this.setState({order_by_year: e.target.value})\n    }\n\n    onCreatedOrder = (e) => {\n        this.setState({order_by_created: e.target.value})\n    }\n\n    onNextPage(){\n        page += 1;\n        this.fetchData()\n    }\n\n    onPreviousPage(){\n        page -= 1;\n        this.fetchData()\n    }\n\n    onEntryClick = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        let entry = this.state.data.entries.find(\n                    entry => entry.id === parseInt(e.currentTarget.getAttribute(\"data-id\")));\n\n        this.setState({\n            modal_title: entry.title,\n            modal_year: entry.year,\n            modal_author: entry.author,\n            modal_images: entry.entry_images,\n            modal_display: '',\n        })\n    }\n\n    closeModal() {\n        this.setState({\n            modal_display: 'none',\n            modal_title: '',\n            modal_year: '',\n            modal_author: '',\n            modal_images: [],\n            display_delete_modal: 'none',\n            selected_entry_id: '',\n        })\n    }\n\n    removeEntry(id) {\n        console.log(\"e click\", id)\n        this.setState({\n            modal_display: '',\n            display_delete_modal: '',\n            selected_entry_id: id,\n        })\n    }\n\n    confirmRemoveEntry(id) {\n        console.log(\"confirmed\", id)\n        axios.delete(this.state.base_url + `/entry/${id}/`,\n            { \n                headers: {\n                    'Authorization': `Token ${localStorage.getItem(\"token\")}`,\n                }\n            })\n            .then(\n                res => {\n                    console.log(res);\n                }\n            )\n    }\n\n    getTitle() {\n        let filtered_entry = this.state.data.entries.filter(entry => entry.id===this.state.selected_entry_id );\n        if (filtered_entry.length <= 0){\n            console.log(\"No entry found with that id\")\n            return \"\"\n        } else{\n            return filtered_entry[0].title\n        }\n        \n    }\n\n    render() {\n\n        // TODO: modificar behaviour so that solo la tabla se quede sin renderizar hasta \n        // encontrar datos de nuevo\n        if ( !this.state.min_year || !this.state.max_year || this.state.total_elements === '' ) {\n            return <div />\n        }\n\n        if( this.state.waiting_to_change ) {\n            return <div />\n        }\n\n        return (\n\n        <div className=\"search_container\">\n\n            <div className=\"modal_entry\"  style={{display: this.state.modal_display}} >\n                <div className=\"modal_entry_detail\">\n                    <button type=\"button\" className=\"close\" id=\"btn_close_modal\" aria-label=\"Close\" onClick={this.closeModal}>\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                    <DeleteModal style={{dismiss: this.state.display_delete_modal}} \n                                title={ this.getTitle()} \n                                onClick={this.confirmRemoveEntry}\n                                selectedId = {this.state.selected_entry_id}\n                                onCancelClick= {this.closeModal}\n                                />\n                </div>\n            </div>\n\n\n            <div className=\"navbar-options row search_header\">\n                <div className=\"admin_entries navbar-option selected col-6\">\n                    Listado de registros (permite editar y borrar)\n                </div>\n                <div className=\"add_entry navbar-option col-6\">\n                    Añadir registro\n                </div>\n            </div>\n        \n\n            <div className=\"search_wrapper\" style={{display:this.state.display_entry_search}}>\n                <div className=\"search_body\">\n                    <div className=\"search_filters col-xs-4 col-md-2\">\n                        <div className=\"sf_category xs-12\">\n                            Filtros\n                        </div>\n                        <div className=\"search_filter sf_border_bottom xs-12\">\n                            <div className=\"sf_name\">\n                                Autor\n                            </div>\n                            <div className=\"sf_filter\">\n                                <AuthorList\n                                    onChange={this.onAuthorSelect}\n                                    authors={this.state.authors}\n                                    value={this.state.filter_author}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"search_filter xs-12\">\n                            <div className=\"sf_name\">\n                                Filtro por año\n                            </div>\n                            <div className=\"sf_filter\">\n                                <Range \n                                    min={this.state.min_year} \n                                    max={this.state.max_year} \n                                    defaultValue={[this.state.filter_from_year, this.state.filter_to_year]} \n                                    onChange={this.handle}\n                                />\n                            </div>\n                            <div className=\"sf_value\">\n                                {this.state.filter_from_year} - {this.state.filter_to_year}\n                            </div>\n                        </div>\n                        <div className=\"sf_category xs-12\">\n                            Ordenar por...\n                        </div>\n                        <div className=\"search_filter sf_border_bottom xs-12\">\n                            <div className=\"sf_name\">\n                                Autor\n                            </div>\n                            <div className=\"sf_filter\">\n                                <OrderBySelector\n                                    onChange={this.onAuthorOrder}\n                                    name=\"order_by_author\"\n                                    value={this.state.order_by_author}\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"search_filter sf_border_bottom xs-12\">\n                            <div className=\"sf_name\">\n                                Fecha creación registro\n                            </div>\n                            <div className=\"sf_filter\">\n                                <OrderBySelector\n                                    onChange={this.onCreatedOrder}\n                                    name=\"order_by_reated\"\n                                    value={this.state.order_by_created}\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"search_filter sf_border_bottom xs-12\">\n                            <div className=\"sf_name\">\n                                Título\n                            </div>\n                            <div className=\"sf_filter\">\n                                <OrderBySelector\n                                    onChange={this.onTitleOrder}\n                                    name=\"order_by_title\"\n                                    value={this.state.order_by_title}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"search_filter xs-12\">                        \n                            <div className=\"sf_name\">\n                                Año\n                            </div>\n                            <div className=\"sf_filter\">\n                                <OrderBySelector\n                                    onChange={this.onYearOrder}\n                                    name=\"order_by_year\"\n                                    value={this.state.order_by_year}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"search_filter xs-12\">\n                            <button onClick={this.fetchData} className=\"sf_name\">\n                                Refinar la busqueda!\n                            </button>\n                        </div>\n                    </div>\n                    <div className=\"search_results_wrapper col-xs-8 col-md-10\">\n                        <div className=\"search_results\">\n                            <div className=\"sr_searchbar\">\n                                <input \n                                    onChange={this.handleInputChange} \n                                    type=\"text\" \n                                    id=\"searchBarSearch\" \n                                    className=\"form-control col-xs-9 display_inline_block\" \n                                    value={this.state.query_text} \n                                    required=\"\" \n                                    autoFocus={true}/>\n                                <span className=\"input-group-btn col-xs-2\">\n                                    <button onClick={this.fetchData} className=\"btn btn-search\" type=\"button\">\n                                        <i className=\"fa fa-search fa-fw display_inline_block\"></i>\n                                    </button>\n                                </span>\n                            </div>\n                            <EntriesList entries={this.state.data.entries} base_url={this.state.base_url} onClick={this.onEntryClick} onRemoveClick={this.removeEntry}/>\n                            { this.state.total_elements>0 ? \n                                <div className=\"pagination_container\">\n                                    <div className=\"total_elements\"> \n                                        {(page*this.state.page_size)+1} - {Math.min(this.state.total_elements, ( (1+page) * this.state.page_size ) )} de {this.state.total_elements}\n                                    </div>\n                                    <Button name=\"previous_page_btn\"\n                                            disabled={page+1 === 1} \n                                            onClick={this.onPreviousPage}/>\n                                    <Button name=\"next_page_btn\" \n                                            disabled={page+1 === Math.ceil(this.state.total_elements/this.state.page_size)} \n                                            onClick={this.onNextPage}/>\n                                </div>\n                                :\n                                <div></div>\n                            }\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"search_footer xs-12\">\n                </div>\n\n            </div>\n        </div>\n            \n        )\n    }\n\n}\n\nexport default Entries;"]},"metadata":{},"sourceType":"module"}