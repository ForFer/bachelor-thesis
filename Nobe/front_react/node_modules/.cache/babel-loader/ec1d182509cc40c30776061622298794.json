{"ast":null,"code":"import _classCallCheck from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/fernando/tfg/portal/reactfront/src/components/generics/header.js\";\nimport React, { Component } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport axios from 'axios';\nvar base_url = \"http://127.0.0.1:8000\";\n\nfunction Greeting(props) {\n  var url = window.location.href.split('/');\n  var current_location = url[url.length - 1];\n\n  if (props.userName !== \"\") {\n    return React.createElement(\"div\", {\n      className: \"user_profile_wp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"up_greeting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    }, \"Bienvenido, \", props.userName), React.createElement(\"div\", {\n      className: \"up_dropdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, current_location !== 'profile' ? React.createElement(\"div\", {\n      className: \"row dropdown_item\",\n      onClick: props.redirectToProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, \"Secci\\xF3n administrador\") : null, React.createElement(\"div\", {\n      className: \"row dropdown_item\",\n      onClick: props.onClickEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"Editar tus datos\"), React.createElement(\"div\", {\n      className: \"row dropdown_item\",\n      onClick: props.onClickLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, \"Cerrar sesi\\xF3n\"))); // return <a className=\"nav-link active login-landing\" href=\"/profile\">Bienvenido, {props.userName}</a>;\n  } else {\n    return React.createElement(\"a\", {\n      className: \"nav-link active login-landing\",\n      href: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Login\");\n  }\n}\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n\n    _this.onChangeEditUsername = function (e) {\n      _this.setState({\n        editUser_username: e.target.value\n      });\n    };\n\n    _this.onChangeEditEmail = function (e) {\n      _this.setState({\n        editUser_email: e.target.value\n      });\n    };\n\n    _this.onChangeEditPassword = function (e) {\n      _this.setState({\n        editUser_password: e.target.value\n      });\n    };\n\n    _this.onChangeEditPasswordRepeated = function (e) {\n      var password = e.target.value;\n      var errorMessage = _this.state.errorMessage;\n      errorMessage = _this.state.editUser_password !== password ? \"Las contraseñas no coinciden\" : '';\n\n      _this.setState({\n        editUser_password_repeated: password,\n        errorMessage: errorMessage\n      });\n    };\n\n    _this.state = {\n      minimalisticHeader: props.minimalisticHeader || false,\n      redirectToLogin: false,\n      redirectToProfile: false,\n      redirectToLanding: false,\n      user: {\n        username: '',\n        email: '',\n        password: '',\n        id: ''\n      },\n      display_edit_modal: 'none',\n      editUser_username: '',\n      editUser_email: '',\n      editUser_password: '',\n      editUser_password_repeated: '',\n      editUser_id: '',\n      errorMessage: ''\n    };\n    _this.logout = _this.logout.bind(_assertThisInitialized(_this));\n    _this.onClickEdit = _this.onClickEdit.bind(_assertThisInitialized(_this));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_this));\n    _this.redirectToProfile = _this.redirectToProfile.bind(_assertThisInitialized(_this));\n    _this.redirectToLanding = _this.redirectToLanding.bind(_assertThisInitialized(_this));\n    _this.fetchUserMeta = _this.fetchUserMeta.bind(_assertThisInitialized(_this));\n    _this.onChangeEditUsername = _this.onChangeEditUsername.bind(_assertThisInitialized(_this));\n    _this.onChangeEditPassword = _this.onChangeEditPassword.bind(_assertThisInitialized(_this));\n    _this.onChangeEditPasswordRepeated = _this.onChangeEditPasswordRepeated.bind(_assertThisInitialized(_this));\n    _this.onChangeEditEmail = _this.onChangeEditEmail.bind(_assertThisInitialized(_this));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.fetchUserMeta();\n    }\n  }, {\n    key: \"fetchUserMeta\",\n    value: function fetchUserMeta() {\n      var _this2 = this;\n\n      var token = localStorage.getItem(\"token\");\n\n      if (token) {\n        axios.get(base_url + '/user_meta/', {\n          headers: {\n            'Authorization': \"Token \".concat(token)\n          }\n        }).then(function (res) {\n          _this2.setState(function () {\n            localStorage.setItem(\"user\", res.data.user.id);\n            if (_this2.props.didLoadCurrentUser) _this2.props.didLoadCurrentUser(res.data.user.id);\n            return {\n              user: res.data.user,\n              editUser_username: res.data.user.username,\n              editUser_email: res.data.user.email,\n              editUser_id: res.data.user.id\n            };\n          });\n        }).catch(function (error) {\n          _this2.logout();\n        });\n      }\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      this.setState({\n        redirectToLogin: true,\n        user: {}\n      });\n    }\n  }, {\n    key: \"redirectToProfile\",\n    value: function redirectToProfile() {\n      this.setState({\n        redirectToProfile: true\n      });\n    }\n  }, {\n    key: \"redirectToLanding\",\n    value: function redirectToLanding() {\n      this.setState({\n        redirectToLanding: true\n      });\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal() {\n      this.setState({\n        display_edit_modal: 'none'\n      });\n    }\n  }, {\n    key: \"onClickEdit\",\n    value: function onClickEdit() {\n      this.setState({\n        display_edit_modal: ''\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      var _this3 = this;\n\n      var _data = {};\n      var _method = 'patch';\n\n      if (this.state.editUser_username !== '') {\n        _data['username'] = this.state.editUser_username;\n      } else {\n        this.setState({\n          errorMessage: 'Campo usuario no puede estar vacio'\n        });\n        return null;\n      }\n\n      if (this.state.editUser_email !== '') {\n        _data['email'] = this.state.editUser_email;\n      } else {\n        this.setState({\n          errorMessage: 'Campo email no puede estar vacio'\n        });\n        return null;\n      }\n\n      if (!this.state.new_userpassword !== this.state.new_userpassword_repeated) {\n        this.setState({\n          errorMessage: \"Las contraseñas no coinciden\"\n        });\n        return null;\n      }\n\n      if (this.state.editUser_password !== '') {\n        _data['password'] = this.state.editUser_password;\n        _method = 'put';\n      }\n\n      axios({\n        method: _method,\n        url: base_url + \"/user/\".concat(this.state.editUser_id, \"/\"),\n        data: _data,\n        headers: {\n          'Content-Type': 'application/json; charset=UTF-8',\n          'Authorization': \"Token \".concat(localStorage.getItem(\"token\"))\n        }\n      }).then(function (res) {\n        if (_this3.state.user.id === _this3.state.editUser_id && _this3.state.editUser_password !== '') {\n          window.alert(\"Tus datos han sido modificados correctamente, tienes que hacer login de nuevo\");\n\n          _this3.logout();\n        } else {\n          _this3.setState({\n            editUser_password: '',\n            user: _data\n          });\n\n          _this3.closeModal();\n\n          window.alert(\"Usuario modificado correctamente\");\n        }\n      }).catch(function (error) {\n        console.log(\"error\", error);\n        window.alert(error.response);\n\n        _this3.setState({\n          errorMessage: error.response.data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // User is not logged in, and request is made from profile\n      var current_url = window.location.toString().split(\"/\");\n      var current_view = current_url[current_url.length - 1];\n\n      if (!localStorage.getItem(\"token\") && current_view === \"profile\" && !localStorage.getItem(\"user\")) {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        });\n      } // Header view for landing, without user logged in\n\n\n      if (this.state.minimalisticHeader && !this.state.user.username) {\n        return React.createElement(Link, {\n          className: \"nav-link active login-landing\",\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, \"Login\");\n      } // Header view for landing, with user logged in\n\n\n      if (this.state.minimalisticHeader && this.state.user.username) {\n        return React.createElement(Link, {\n          className: \"nav-link active login-landing\",\n          to: \"/profile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, \"Bienvenido, \", this.state.user.username);\n      }\n\n      if (this.state.redirectToLanding) {\n        return React.createElement(Redirect, {\n          to: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283\n          },\n          __self: this\n        });\n      }\n\n      if (this.state.redirectToLogin) {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        });\n      }\n\n      if (this.state.redirectToProfile) {\n        return React.createElement(Redirect, {\n          to: \"/profile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"row profile-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal_entry\",\n        style: {\n          display: this.state.display_edit_modal\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal_users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form_edit_user height_100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \" Editar usuario \"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"username_label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, \"Usuario\"), React.createElement(\"input\", {\n        value: this.state.editUser_username,\n        onChange: this.onChangeEditUsername,\n        type: \"text\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"useremail_label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        value: this.state.editUser_email,\n        onChange: this.onChangeEditEmail,\n        type: \"email\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"userpass_label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, \"Contrase\\xF1a\"), React.createElement(\"input\", {\n        value: this.state.editUser_password,\n        placeholder: \"\",\n        onChange: this.onChangeEditPassword,\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"userpass_label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, \"Contrase\\xF1a\"), React.createElement(\"input\", {\n        value: this.state.editUser_password_repeated,\n        placeholder: \"\",\n        onChange: this.onChangeEditPasswordRepeated,\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"warn edit_user_password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, \"Si no se modifica la contrase\\xF1a, se mantendr\\xE1 su valor anterior\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, this.state.edit_error_message), React.createElement(\"button\", {\n        type: \"button\",\n        id: \"edit_user_edit\",\n        className: \"btn btn-primary\",\n        onClick: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, \"Editar\"), React.createElement(\"button\", {\n        onClick: this.closeModal,\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, \"Cancelar\"), React.createElement(\"div\", {\n        className: \"login_error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, this.state.errorMessage))))), React.createElement(\"div\", {\n        id: \"app_logo\",\n        onClick: this.redirectToLanding,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, React.createElement(\"image\", {\n        src: '../static/img/portada_logo.png',\n        alt: \"UC3M Logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"profile-avatar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(Greeting, {\n        userName: this.state.user.username,\n        onClickLogout: this.logout,\n        onClickEdit: this.onClickEdit,\n        redirectToProfile: this.redirectToProfile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Header;\n}(Component);\n\nexport default Header;","map":{"version":3,"sources":["/home/fernando/tfg/portal/reactfront/src/components/generics/header.js"],"names":["React","Component","Redirect","Link","axios","base_url","Greeting","props","url","window","location","href","split","current_location","length","userName","redirectToProfile","onClickEdit","onClickLogout","Header","onChangeEditUsername","e","setState","editUser_username","target","value","onChangeEditEmail","editUser_email","onChangeEditPassword","editUser_password","onChangeEditPasswordRepeated","password","errorMessage","state","editUser_password_repeated","minimalisticHeader","redirectToLogin","redirectToLanding","user","username","email","id","display_edit_modal","editUser_id","logout","bind","closeModal","fetchUserMeta","onSubmit","token","localStorage","getItem","get","headers","then","res","setItem","data","didLoadCurrentUser","catch","error","removeItem","_data","_method","new_userpassword","new_userpassword_repeated","method","alert","console","log","response","current_url","toString","current_view","display","edit_error_message"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { Redirect, Link } from 'react-router-dom';\n\nimport axios from 'axios';\n\nconst base_url = \"http://127.0.0.1:8000\"\n\nfunction Greeting(props) {\n    var url = window.location.href.split('/')\n    var current_location = url[url.length-1]\n    if(props.userName !== \"\"){\n        return <div className=\"user_profile_wp\">\n                    <div className=\"up_greeting\">\n                        Bienvenido, {props.userName}    \n                    </div>\n                    <div className=\"up_dropdown\">\n                        { current_location !== 'profile'\n                            ? <div className=\"row dropdown_item\"\n                                    onClick={props.redirectToProfile}\n                                >\n                                    Sección administrador\n                                </div>\n                            : null\n                        }\n                        <div className=\"row dropdown_item\"\n                            onClick={props.onClickEdit}\n                        >\n                            Editar tus datos\n                        </div>\n                        <div className=\"row dropdown_item\"\n                            onClick={props.onClickLogout}\n                        >\n                            Cerrar sesión\n                        </div>\n                    </div>\n              </div>\n\n        // return <a className=\"nav-link active login-landing\" href=\"/profile\">Bienvenido, {props.userName}</a>;\n    } else {\n        return <a className=\"nav-link active login-landing\" href=\"/login\">Login</a>;\n    }\n}\n\nclass Header extends Component {\n    constructor(props){\n        super(props)\n\n        this.state = {\n            minimalisticHeader: props.minimalisticHeader || false,\n            redirectToLogin: false,\n            redirectToProfile: false,\n            redirectToLanding: false,\n\n            user: {\n                username: '',\n                email: '',\n                password: '',\n                id: '',\n            },\n            \n            display_edit_modal: 'none',\n            editUser_username: '',\n            editUser_email: '',\n            editUser_password: '',\n            editUser_password_repeated:'',\n            editUser_id: '',\n            errorMessage: '',\n        }\n\n        this.logout = this.logout.bind(this);\n        this.onClickEdit = this.onClickEdit.bind(this);\n        this.closeModal = this.closeModal.bind(this);\n\n        this.redirectToProfile = this.redirectToProfile.bind(this);\n        this.redirectToLanding = this.redirectToLanding.bind(this);\n\n        this.fetchUserMeta = this.fetchUserMeta.bind(this);\n\n        this.onChangeEditUsername = this.onChangeEditUsername.bind(this);\n        this.onChangeEditPassword = this.onChangeEditPassword.bind(this);\n        this.onChangeEditPasswordRepeated = this.onChangeEditPasswordRepeated.bind(this);\n        this.onChangeEditEmail = this.onChangeEditEmail.bind(this);\n\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    componentWillMount(){\n        this.fetchUserMeta()\n    }\n\n    fetchUserMeta() {\n        let token = localStorage.getItem(\"token\");\n        if(token){\n            axios.get(base_url + '/user_meta/', \n            {\n                headers: {\n                    'Authorization': `Token ${token}`,\n                }\n            }).then(\n                res => {\n                    this.setState(() => {\n                        localStorage.setItem(\"user\", res.data.user.id);\n                        if(this.props.didLoadCurrentUser) this.props.didLoadCurrentUser(res.data.user.id);\n                        return {\n                        user: res.data.user,\n                        editUser_username: res.data.user.username,\n                        editUser_email: res.data.user.email,\n                        editUser_id: res.data.user.id,\n                        }\n                    })\n                    \n                }\n            ).catch(\n                error => {\n                    this.logout();\n                }\n            )\n        }\n    }\n\n    logout() {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"user\");\n        this.setState({\n            redirectToLogin: true,\n            user: {},\n        })\n    }\n\n    redirectToProfile() {\n        this.setState({\n            redirectToProfile: true,\n        })\n    }\n\n    redirectToLanding() {\n        this.setState({\n            redirectToLanding: true,\n        })\n    }\n\n    closeModal() {\n        this.setState({\n            display_edit_modal: 'none',\n        })\n    }\n\n    onClickEdit() {\n        this.setState({\n            display_edit_modal: '',\n        })\n    }\n\n    onChangeEditUsername = (e) => {\n        this.setState({editUser_username: e.target.value})\n    }\n\n    onChangeEditEmail = (e) => {\n        this.setState({editUser_email: e.target.value})\n    }\n\n    onChangeEditPassword = (e) => {\n        this.setState({editUser_password: e.target.value})\n    }\n\n    onChangeEditPasswordRepeated = (e) => {\n\n        var password = e.target.value;\n        var errorMessage = this.state.errorMessage;\n\n        errorMessage = this.state.editUser_password !== password \n                ? \"Las contraseñas no coinciden\"\n                : ''\n \n        this.setState({\n            editUser_password_repeated: password,\n            errorMessage: errorMessage,\n        })\n    }\n\n    onSubmit() {\n        var _data = {}\n        var _method = 'patch';\n\n        if (this.state.editUser_username !== ''){\n            _data['username'] = this.state.editUser_username\n        } else {\n            this.setState({\n                errorMessage: 'Campo usuario no puede estar vacio'\n            })\n            return null;\n        }\n\n        if (this.state.editUser_email !== ''){\n            _data['email'] = this.state.editUser_email\n        } else {\n            this.setState({\n                errorMessage: 'Campo email no puede estar vacio'\n            })\n            return null;\n        }\n\n        if(!this.state.new_userpassword !== this.state.new_userpassword_repeated){\n            this.setState({\n                errorMessage: \"Las contraseñas no coinciden\"\n            })\n            return null;\n        }\n\n        if (this.state.editUser_password !== ''){\n            _data['password'] = this.state.editUser_password\n            _method = 'put';\n        }\n\n        axios({\n            method: _method,\n            url: base_url + `/user/${this.state.editUser_id}/`,\n            data: _data,\n            headers: {\n                'Content-Type': 'application/json; charset=UTF-8',\n                'Authorization': `Token ${localStorage.getItem(\"token\")}`,\n            },\n          }).then(\n              res => {\n\n                if(this.state.user.id === this.state.editUser_id\n                    && this.state.editUser_password !== ''\n                    ) {\n                    window.alert(\"Tus datos han sido modificados correctamente, tienes que hacer login de nuevo\");    \n                    this.logout();\n                }\n                else {\n                    this.setState({\n                        editUser_password: '',\n                        user: _data,\n                    });\n                    this.closeModal();\n                    window.alert(\"Usuario modificado correctamente\");\n                    \n                }\n              }\n          ).catch(\n              error => {\n                  console.log(\"error\", error);\n                    window.alert(error.response);\n                    this.setState({\n                        errorMessage: error.response.data\n                    })\n              }\n          );\n    }\n\n    render(){\n        // User is not logged in, and request is made from profile\n        var current_url = window.location.toString().split(\"/\")\n        var current_view = current_url[current_url.length-1]\n\n        if(!localStorage.getItem(\"token\") \n            && current_view === \"profile\"\n            && !localStorage.getItem(\"user\")\n            ) {\n            return <Redirect to='/login' />\n        }\n\n        // Header view for landing, without user logged in\n        if (this.state.minimalisticHeader && !this.state.user.username){\n            return <Link className=\"nav-link active login-landing\" \n                         to=\"/login\">\n                            Login\n                    </Link>\n        }\n\n        // Header view for landing, with user logged in\n        if(this.state.minimalisticHeader && this.state.user.username) {\n            return <Link className=\"nav-link active login-landing\" \n                         to=\"/profile\">\n                            Bienvenido, {this.state.user.username}\n                         </Link>\n        }\n\n        if (this.state.redirectToLanding) {\n            return <Redirect to='' />\n        }\n\n        if (this.state.redirectToLogin) {\n            return <Redirect to='/login' />\n        }\n\n        if (this.state.redirectToProfile) {\n            return <Redirect to='/profile' />\n        }\n\n        return (\n            \n            <div className=\"row profile-header\">\n                <div className=\"modal_entry\"  style={{display: this.state.display_edit_modal}} >\n                    <div className=\"modal_users\">\n                        <div className=\"form_edit_user height_100\">\n                            <h3> Editar usuario </h3>\n                            <form>\n                                <label className=\"username_label\">Usuario</label>\n                                <input value={this.state.editUser_username}\n                                        onChange={this.onChangeEditUsername}\n                                        type=\"text\"\n                                        required\n                                        />\n\n                                <label className=\"useremail_label\">Email</label>\n                                <input value={this.state.editUser_email}\n                                        onChange={this.onChangeEditEmail}\n                                        type=\"email\"\n                                        required\n                                        />\n\n                                <label className=\"userpass_label\">Contraseña</label>\n                                    <input\n                                        value={this.state.editUser_password}\n                                        placeholder=\"\"\n                                        onChange={this.onChangeEditPassword}\n                                        type=\"password\"\n                                        />\n                                <label className=\"userpass_label\">Contraseña</label>\n                                    <input\n                                        value={this.state.editUser_password_repeated}\n                                        placeholder=\"\"\n                                        onChange={this.onChangeEditPasswordRepeated}\n                                        type=\"password\"\n                                        />\n                                <div className=\"warn edit_user_password\">\n                                    Si no se modifica la contraseña, se mantendrá su valor anterior\n                                </div>\n\n                                <div>{this.state.edit_error_message}</div>\n\n                                <button type=\"button\" \n                                        id=\"edit_user_edit\"\n                                        className=\"btn btn-primary\" \n                                        onClick={this.onSubmit}>\n                                        Editar \n                                        </button>\n\n                                <button onClick={this.closeModal} \n                                        type=\"button\" \n                                        className=\"btn btn-secondary\" \n                                        data-dismiss=\"modal\">\n                                        Cancelar\n                                        </button>\n                                <div className=\"login_error\">{this.state.errorMessage}</div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n                \n\n                <div id=\"app_logo\"\n                    onClick={this.redirectToLanding}\n                    >\n                \n                    <image src={'../static/img/portada_logo.png'} alt=\"UC3M Logo\" />\n                </div>\n                <div id=\"profile-avatar\">\n                \n                    <Greeting \n                        userName={this.state.user.username}\n                        onClickLogout={this.logout}\n                        onClickEdit={this.onClickEdit}\n                        redirectToProfile={this.redirectToProfile}\n                        />\n                </div>\n            </div>\n            )\n        }    \n}\n                \nexport default Header;"]},"metadata":{},"sourceType":"module"}