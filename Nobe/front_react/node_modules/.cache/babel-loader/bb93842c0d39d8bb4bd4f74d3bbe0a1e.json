{"ast":null,"code":"import _classCallCheck from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/fernando/tfg/portal/reactfront/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/fernando/tfg/portal/reactfront/src/components/landing.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Header from './generics/header';\n\nvar Landing =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Landing, _Component);\n\n  function Landing(props) {\n    var _this;\n\n    _classCallCheck(this, Landing);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Landing).call(this, props));\n    _this.state = {\n      body_class: document.body.className,\n      query_text: '',\n      base_url: props.base_url\n    };\n    _this.search_query = _this.search_query.bind(_assertThisInitialized(_this));\n    _this.searchTextChange = _this.searchTextChange.bind(_assertThisInitialized(_this));\n    _this.handleEnter = _this.handleEnter.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Landing, [{\n    key: \"handleEnter\",\n    value: function handleEnter(e) {\n      e.preventDefault();\n      this.search_query();\n    }\n  }, {\n    key: \"searchTextChange\",\n    value: function searchTextChange(event) {\n      this.setState({\n        query_text: event.target.value\n      });\n    }\n  }, {\n    key: \"search_query\",\n    value: function search_query() {\n      var _this2 = this;\n\n      axios.get(this.state.base_url + '/entry/', {\n        params: {\n          q: this.state.query_text\n        }\n      }).then(function (res) {\n        _this2.props.history.push({\n          pathname: '/search',\n          state: {\n            detail: res.data,\n            query: _this2.state.query_text,\n            base_url: _this2.state.base_url\n          }\n        });\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      document.body.className = this.state.body_class + (this.state.body_class ? ' ' : '') + 'text-center height_100 landing';\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.body.className = this.state.body_class;\n    }\n    /*\n        text-center height_100 landing\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"d-flex w-100 h-100 p-3 mx-auto flex-column wrapper_main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"masthead mb-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"inner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"float-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Nobe\"), React.createElement(\"nav\", {\n        className: \"nav justify-content-center float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Header, {\n        minimalisticHeader: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })))), React.createElement(\"main\", {\n        role: \"main\",\n        className: \"inner\",\n        id: \"inner_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Comienza tu b\\xFAsqueda aqu\\xED \"), React.createElement(\"p\", {\n        className: \"lead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Nobe te permite buscar texto en im\\xE1genes manuscritas\"), React.createElement(\"div\", {\n        className: \"col-xs-12 display_block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.searchTextChange,\n        onKeyPress: function onKeyPress(e) {\n          return e.key === 'Enter' ? _this3.handleEnter : console.log(\"key\", e.key);\n        },\n        type: \"text\",\n        id: \"searchBar\",\n        className: \"form-control main-search-bar col-xs-10 display_inline_block\",\n        placeholder: \"\\xC9rase una vez...\",\n        required: \"\",\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"input-group-btn col-xs-2 main-span-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.search_query,\n        className: \"btn btn-search main-search-button\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-search fa-fw display_inline_block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }))))), React.createElement(\"footer\", {\n        className: \"mastfoot mt-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"inner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Trabajo de Fin de Grado por \", React.createElement(\"a\", {\n        href: \"https://github.com/ForFer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Fernando Collado\"), \", para la \\xA9 Universidad Carlos III de Madrid, 2019\"))));\n    }\n  }]);\n\n  return Landing;\n}(Component);\n\nexport default Landing;\n/*\n\n\n</html>\n*/","map":{"version":3,"sources":["/home/fernando/tfg/portal/reactfront/src/components/landing.js"],"names":["React","Component","axios","Header","Landing","props","state","body_class","document","body","className","query_text","base_url","search_query","bind","searchTextChange","handleEnter","e","preventDefault","event","setState","target","value","get","params","q","then","res","history","push","pathname","detail","data","query","key","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport axios from 'axios';\n\nimport Header from './generics/header'\n\nclass Landing extends Component {\n    constructor(props){\n        super(props)\n\n        this.state = {\n            body_class: document.body.className,\n            query_text: '',\n            base_url: props.base_url,\n        }\n\n        this.search_query = this.search_query.bind(this)\n        this.searchTextChange = this.searchTextChange.bind(this)\n        this.handleEnter = this.handleEnter.bind(this);\n    }\n\n    handleEnter(e) {\n        e.preventDefault();\n\n        this.search_query();\n    }\n\n    searchTextChange(event) {\n        this.setState({query_text : event.target.value});\n    }\n\n    search_query() {\n        axios.get(this.state.base_url + '/entry/',\n        {\n            params: {\n                q: this.state.query_text,\n            }\n        })\n            .then(\n                res => {\n                    this.props.history.push({\n                        pathname: '/search',\n                        state: {\n                            detail: res.data,\n                            query: this.state.query_text,\n                            base_url: this.state.base_url,\n                         }\n                    })\n                }\n            )\n    }\n\n    componentWillMount(){\n        document.body.className = this.state.body_class + ( this.state.body_class ? ' ' : '') + 'text-center height_100 landing';\n    }\n\n    componentWillUnmount(){\n        document.body.className = this.state.body_class;\n    }\n\n    /*\n        text-center height_100 landing\n    */\n\n    render() {\n        return (\n            <div className=\"d-flex w-100 h-100 p-3 mx-auto flex-column wrapper_main\">\n            <header className=\"masthead mb-auto\">\n                <div className=\"inner\">\n                <h3 className=\"float-left\">Nobe</h3>\n                <nav className=\"nav justify-content-center float-right\">\n                    <Header minimalisticHeader={true} />\n                </nav>\n                </div>\n            </header>\n    \n            <main role=\"main\" className=\"inner\" id=\"inner_wrapper\">\n                <h1>Comienza tu búsqueda aquí </h1>\n                <p className=\"lead\">Nobe te permite buscar texto en imágenes manuscritas</p>\n                <div className=\"col-xs-12 display_block\">\n                    <input onChange={this.searchTextChange} \n                            \n                            onKeyPress = { (e) => \n                                e.key === 'Enter'\n                                ? this.handleEnter\n                                : console.log(\"key\", e.key)\n                            }\n                                \n                            type=\"text\" \n                            id=\"searchBar\" \n                            className=\"form-control main-search-bar col-xs-10 display_inline_block\" \n                            placeholder=\"Érase una vez...\" \n                            required=\"\" \n                            autoFocus={true}/>\n                    <span className=\"input-group-btn col-xs-2 main-span-button\">\n                        <button onClick={this.search_query} className=\"btn btn-search main-search-button\" type=\"button\">\n                            <i className=\"fa fa-search fa-fw display_inline_block\"></i>\n                        </button>\n                    </span>\n                </div>\n    \n            </main>\n    \n            <footer className=\"mastfoot mt-auto\">\n                <div className=\"inner\">\n                <p>Trabajo de Fin de Grado por <a href=\"https://github.com/ForFer\">Fernando Collado</a>, para la © Universidad Carlos III de Madrid, 2019</p>\n                </div>\n            </footer>\n            </div>\n    \n        )\n    }\n}\n\nexport default Landing;\n\n/*\n\n\n</html>\n*/"]},"metadata":{},"sourceType":"module"}